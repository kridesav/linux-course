# H4 Maailma Kuulee

## Tehtävä x

## Tehtävä a

Tein tämän jo luennolla, hinnaksi tuli 6$/kk ja data centeri oli Amsterdam 3.

Koneeseen meni Debiani halvimmilla asetuksilla paitsi RAMia laitettiin se 1GB

![5f9302c8011a06e8cbb093ff7ea4229f](https://github.com/user-attachments/assets/d471f4e8-8707-45ab-beb0-9c17f1b0c3b0)

Itse laitoin tilille PayPalilla 5$ sekä hyödynsin Github educationin tarjousta eli 200$ edestä krediittejä vuodeksi.

## Tehtävä b

Otin koneeseen yhteyden kirotulla windowsin terminalilla komennolla `ssh root@ip`, jonka jälkeen jouduin syöttämään aikasemmin annetun root-salasanan.

![49849fe51f4e6736adc06188ddf7df40](https://github.com/user-attachments/assets/0144becb-9c4b-4d0e-b123-74c39920724f)

Sen jälkeen lisäsin uuden käyttäjän itselleni komennolla `sudo adduser kride` ja sen jälkeen annoin sille vielä sudo oikeudet komennolla `sudo adduser kride sudo`.

Lopuksi kirjauduin ulos root käyttäjältä.

![937890be45c4c230d46079bc31ad5773](https://github.com/user-attachments/assets/7d1b083b-4253-4c08-8ed0-5dec67453a94)

Sitten kirjauduin juuri luomalleni käyttäjälle komennolla `ssh kride@ip` ja kokeilin oikeuksia yksinkertailla `sudo echo hello world`.

![231eb60d2b3dbbdbdab5e0ee8da80f63](https://github.com/user-attachments/assets/03001a0e-bd2e-46b8-b6fc-94c5d3676f2f)

Kun se oli todettu toimivaksi, lukitsin root-käyttäjän komennolla `sudo usermod --lock root` jonka jälkeen asensin palomuurin komennolla `sudo apt-get install ufw`.

![e279f80442f2f378691fa27a859d3e7c](https://github.com/user-attachments/assets/0866398a-4444-4238-ab35-e6b51c2a3006)

Ennen palomuurin päälle laittamista avasin vielä portin 22 komennolla `sudo ufw allow 22/tcp`, tämä on portti jota ssh käyttää.

Sen jälkeen laitoin palomuurin päälle komennolla `sudo ufw enable` ja kirjauduin ulos ssh:sta.

![88dbb0f269fd81f7ea357ad034a2c46b](https://github.com/user-attachments/assets/ac2e45fd-a440-4be6-a780-5424e9f5b66b)

Kirjauduin vielä kerran sisään varmistaakseni että kaikki toimi ja annoin myös komennon `sudo ufw status` joka näytti palomuurin tilan.

![ec23d3be512e0ea073e4fc47f80be4e6](https://github.com/user-attachments/assets/93bc7758-d847-4184-b541-84bd5356c2cb)

Lopulta kävin vielä Teron [ohjeen](https://terokarvinen.com/2017/first-steps-on-a-new-virtual-private-server-an-example-on-digitalocean/) mukaan estämässä rootLoginin komennolla `sudoedit /etc/ssh/sshd_config`, ja muutin PermitRootLogin `yes->no`

![9dd0f95ac125082499980ed1563e992a](https://github.com/user-attachments/assets/7f38d180-1107-42f8-a4ae-7f69f8fad0c8)

Lopuksi käynnistin ssh paketin uudestaan komennolla `sudo service ssh restart`.

Viimeistelin käyttöönoton ajamalla päivitys komennot `sudo apt-get update` sekä `sudo apt-get ugprade`

## Tehtävä c
